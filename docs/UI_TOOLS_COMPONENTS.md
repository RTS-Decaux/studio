# UI ะบะพะผะฟะพะฝะตะฝัั ะดะปั ะพัะพะฑัะฐะถะตะฝะธั AI ะธะฝััััะผะตะฝัะพะฒ

## ะะฑะทะพั

ะัะพะตะบั ะธัะฟะพะปัะทัะตั ะผะธะฝะธะผะฐะปะธััะธัะฝัะต ะฐะบะบะพัะดะตะพะฝั ะดะปั ะพัะพะฑัะฐะถะตะฝะธั ะธัะฟะพะปัะทะพะฒะฐะฝะธั AI ะธะฝััััะผะตะฝัะพะฒ ะธ ะฟัะพัะตััะฐ ะผััะปะตะฝะธั ะผะพะดะตะปะธ.

## ะะพะผะฟะพะฝะตะฝัั

### 1. Tool Components (`components/elements/tool.tsx`)

ะะฐะทะพะฒัะต ะบะพะผะฟะพะฝะตะฝัั ะดะปั ะพัะพะฑัะฐะถะตะฝะธั ะปัะฑะพะณะพ AI ะธะฝััััะผะตะฝัะฐ ะฒ ะฒะธะดะต ะฐะบะบะพัะดะตะพะฝะฐ.

#### ะัะฟะพะปัะทะพะฒะฐะฝะธะต:

```tsx
<Tool defaultOpen={true}>
  <ToolHeader state="output-available" type="tool-webSearch" />
  <ToolContent>
    <ToolInput input={{ query: "Next.js 15" }} />
    <ToolOutput output={<WebSearchResult output={data} />} />
  </ToolContent>
</Tool>
```

#### ะกะพััะพัะฝะธั ะธะฝััััะผะตะฝัะฐ:

- `input-streaming` - ะะถะธะดะฐะฝะธะต (Pending)
- `input-available` - ะัะฟะพะปะฝัะตััั (Running) ั ะฐะฝะธะผะฐัะธะตะน ะฟัะปััะฐ
- `output-available` - ะะฐะฒะตััะตะฝะพ (Completed) ั ะทะตะปะตะฝะพะน ะณะฐะปะพัะบะพะน
- `output-error` - ะัะธะฑะบะฐ (Error) ั ะบัะฐัะฝัะผ ะบัะตััะธะบะพะผ
- `approval-requested` - ะขัะตะฑัะตััั ะพะดะพะฑัะตะฝะธะต
- `approval-responded` - ะะดะพะฑัะตะฝะพ
- `output-denied` - ะัะบะปะพะฝะตะฝะพ

#### ะะธะทัะฐะปัะฝัะต ัะปะตะผะตะฝัั:

- **ะะบะพะฝะบะฐ ะธะฝััััะผะตะฝัะฐ**: ะะฐะตัะฝัะน ะบะปัั (`WrenchIcon`)
- **ะะฐะทะฒะฐะฝะธะต**: ะะฒัะพะผะฐัะธัะตัะบะธ ัะพัะผะฐัะธััะตััั (ะฝะฐะฟัะธะผะตั, "tool-webSearch" โ "Web Search")
- **Badge ััะฐัััะฐ**: ะก ะธะบะพะฝะบะพะน ะธ ัะฒะตัะพะผ ะฒ ะทะฐะฒะธัะธะผะพััะธ ะพั ัะพััะพัะฝะธั
- **Chevron**: ะฃะบะฐะทัะฒะฐะตั ัะฐัะบััั/ะทะฐะบััั ะฐะบะบะพัะดะตะพะฝ

---

### 2. WebSearchResult (`components/web-search-result.tsx`)

ะกะฟะตัะธะฐะปะธะทะธัะพะฒะฐะฝะฝัะน ะบะพะผะฟะพะฝะตะฝั ะดะปั ะพัะพะฑัะฐะถะตะฝะธั ัะตะทัะปััะฐัะพะฒ ะฒะตะฑ-ะฟะพะธัะบะฐ Tavily.

#### ะกัััะบัััะฐ:

```tsx
<WebSearchResult output={{
  query: "Next.js 15",
  answer: "Summary of search results...",
  results: [
    {
      title: "Next.js 15 Release",
      url: "https://...",
      content: "Description...",
      score: 0.95,
      publishedDate: "2025-11-01"
    }
  ],
  images: ["https://..."],
  responseTime: 250
}} />
```

#### ะกะตะบัะธะธ ะพัะพะฑัะฐะถะตะฝะธั:

1. **Summary (ะัะฒะตั)**
   - ะกะณะตะฝะตัะธัะพะฒะฐะฝะฝัะน Tavily ะบัะฐัะบะธะน ะพัะฒะตั
   - ะัะพะฑัะฐะถะฐะตััั ะฒ ัะฒะตัะปะพะน ัะฐะผะบะต ัะฒะตััั

2. **Sources (ะััะพัะฝะธะบะธ)**
   - ะกะฟะธัะพะบ ะบะปะธะบะฐะฑะตะปัะฝัั ะบะฐััะพัะตะบ ัะตะทัะปััะฐัะพะฒ
   - ะะฐะถะดะฐั ะบะฐััะพัะบะฐ ัะพะดะตัะถะธั:
     - ะะฐะณะพะปะพะฒะพะบ ั ะธะบะพะฝะบะพะน ะฒะฝะตัะฝะตะน ัััะปะบะธ
     - ะัะฐัะบะพะต ะพะฟะธัะฐะฝะธะต (ะดะพ 2 ัััะพะบ)
     - ะะพะผะตะฝ ะธััะพัะฝะธะบะฐ ะธ ะดะฐัะฐ ะฟัะฑะปะธะบะฐัะธะธ
     - Badge ั ะฟัะพัะตะฝัะพะผ ัะตะปะตะฒะฐะฝัะฝะพััะธ

3. **Images (ะะทะพะฑัะฐะถะตะฝะธั)**
   - ะกะตัะบะฐ ะธะท ะดะพ 6 ะธะทะพะฑัะฐะถะตะฝะธะน
   - ะะดะฐะฟัะธะฒะฝะฐั: 2 ะบะพะปะพะฝะบะธ ะฝะฐ ะผะพะฑะธะปัะฝัั, 3 ะฝะฐ ะดะตัะบัะพะฟะต
   - Hover ัััะตะบั ัะฒะตะปะธัะตะฝะธั

#### ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ:

ะัะปะธ ะฟัะพะธะทะพัะปะฐ ะพัะธะฑะบะฐ, ะพัะพะฑัะฐะถะฐะตััั ะบัะฐัะฝะฐั ัะฐะผะบะฐ ั ัะพะพะฑัะตะฝะธะตะผ ะพะฑ ะพัะธะฑะบะต ะธ ะทะฐะฟัะพัะพะผ.

---

### 3. Reasoning Components (`components/elements/reasoning.tsx`)

ะะพะผะฟะพะฝะตะฝัั ะดะปั ะพัะพะฑัะฐะถะตะฝะธั ะฟัะพัะตััะฐ ะผััะปะตะฝะธั (reasoning) ะผะพะดะตะปะธ.

#### ะัะฟะพะปัะทะพะฒะฐะฝะธะต:

```tsx
<Reasoning defaultOpen={true} isStreaming={isLoading}>
  <ReasoningTrigger />
  <ReasoningContent>
    ะะพะดะตะปั ะฐะฝะฐะปะธะทะธััะตั ะทะฐะฟัะพั...
    ะะฟัะตะดะตะปัะตั ะฝะตะพะฑัะพะดะธะผะพััั ะฒะตะฑ-ะฟะพะธัะบะฐ...
    ะคะพัะผัะปะธััะตั ะฟะพะธัะบะพะฒัะน ะทะฐะฟัะพั...
  </ReasoningContent>
</Reasoning>
```

#### ะะธะทัะฐะปัะฝัะต ัะปะตะผะตะฝัั:

- **ะะบะพะฝะบะฐ**: ะะพะทะณ (`BrainIcon`)
- **ะขะตะบัั ััะธะณะณะตัะฐ**:
  - ะัะธ ะฟะพัะพะบะพะฒะพะน ะฟะตัะตะดะฐัะต: "Thinking..."
  - ะะพัะปะต ะทะฐะฒะตััะตะฝะธั: "Thought for Xs" (ะณะดะต X - ะฒัะตะผั ะฒ ัะตะบัะฝะดะฐั)
- **Chevron**: ะะพะฒะพัะฐัะธะฒะฐะตััั ะฟัะธ ะพัะบัััะธะธ/ะทะฐะบัััะธะธ
- **Auto-close**: ะะฒัะพะผะฐัะธัะตัะบะธ ะทะฐะบััะฒะฐะตััั ัะตัะตะท 500ะผั ะฟะพัะปะต ะทะฐะฒะตััะตะฝะธั ะฟะพัะพะบะฐ

#### ะัะพะฑะตะฝะฝะพััะธ:

- ะััะปะตะถะธะฒะฐะตั ะฒัะตะผั ะผััะปะตะฝะธั
- ะะฒัะพะผะฐัะธัะตัะบะธ ะพัะบััะฒะฐะตััั ะฟัะธ ะฝะฐัะฐะปะต ะฟะพัะพะบะฐ
- ะะฒัะพะผะฐัะธัะตัะบะธ ะทะฐะบััะฒะฐะตััั ะฟะพัะปะต ะทะฐะฒะตััะตะฝะธั (ะผะพะถะฝะพ ะพัะบัััั ะฒัััะฝัั)
- ะะพะดะดะตัะถะบะฐ ะบะพะฝััะพะปะธััะตะผะพะณะพ ะธ ะฝะตะบะพะฝััะพะปะธััะตะผะพะณะพ ัะตะถะธะผะพะฒ

---

## ะะฝัะตะณัะฐัะธั ะฒ Message Component

ะ ะบะพะผะฟะพะฝะตะฝัะต `components/message.tsx` ะฒัะต ะธะฝััััะผะตะฝัั ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะตะฝะดะตััััั ะฒ ะฐะบะบะพัะดะตะพะฝะฐั:

```tsx
// Reasoning
if (type === "reasoning" && part.text?.trim().length > 0) {
  return <MessageReasoning isLoading={isLoading} reasoning={part.text} />;
}

// Web Search Tool
if (type === "tool-webSearch") {
  return (
    <Tool defaultOpen={true}>
      <ToolHeader state={state} type="tool-webSearch" />
      <ToolContent>
        <ToolInput input={part.input} />
        <ToolOutput output={<WebSearchResult output={part.output} />} />
      </ToolContent>
    </Tool>
  );
}
```

---

## ะกัะธะปะธะทะฐัะธั

### ะฆะฒะตัะฐ ะธ ััะธะปะธ:

- **ะคะพะฝ ะฐะบะบะพัะดะตะพะฝะฐ**: ะัะพะทัะฐัะฝัะน ั ัะพะฝะบะพะน ัะฐะผะบะพะน
- **ะขัะธะณะณะตั**: ะกะตััะน ัะตะบัั, ััะฐะฝะพะฒะธััั ัะตะผะฝะตะต ะฟัะธ ะฝะฐะฒะตะดะตะฝะธะธ
- **Badge**:
  - Pending/Running: ะกะตััะน ั ะฐะฝะธะผะฐัะธะตะน
  - Completed: ะะตะปะตะฝัะน
  - Error: ะัะฐัะฝัะน
- **ะะพะฝัะตะฝั**: ะะปะฐะฒะฝะฐั ะฐะฝะธะผะฐัะธั slide-in/slide-out

### ะะดะฐะฟัะธะฒะฝะพััั:

- ะัะต ะบะพะผะฟะพะฝะตะฝัั ะฐะดะฐะฟัะธะฒะฝั
- ะกะตัะบะธ ะธะทะพะฑัะฐะถะตะฝะธะน ะผะตะฝััั ะบะพะปะธัะตััะฒะพ ะบะพะปะพะฝะพะบ
- ะขะตะบัั ะพะฑัะตะทะฐะตััั ั ะผะฝะพะณะพัะพัะธะตะผ ะฟัะธ ะฟะตัะตะฟะพะปะฝะตะฝะธะธ
- ะะพะฑะธะปัะฝัะต ััััะพะนััะฒะฐ: ะพะฟัะธะผะธะทะธัะพะฒะฐะฝะฝัะต ะพััััะฟั

---

## ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### ะัะธะผะตั 1: ะัะพััะพะน ะฒะตะฑ-ะฟะพะธัะบ

**ะะฐะฟัะพั ะฟะพะปัะทะพะฒะฐัะตะปั:**
```
ะะฐะนะดะธ ะธะฝัะพัะผะฐัะธั ะพ TypeScript 5.6
```

**ะัะพะฑัะฐะถะตะฝะธะต:**
```
โโ Web Search โโโโโโโโโโโโโโโโโโโโโโโโ โ Completed โ
โ Parameters                                        โ
โ {                                                 โ
โ   "query": "TypeScript 5.6 features"             โ
โ }                                                 โ
โ                                                   โ
โ Result                                            โ
โ โโ Summary โโโโโโโโโโโโโโโโโโโโโโโโโ            โ
โ โ TypeScript 5.6 introduces...     โ            โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ            โ
โ                                                   โ
โ Sources (5)                                       โ
โ โโ TypeScript 5.6 Release โโโโโโ 95% โ          โ
โ โ microsoft.com โข Nov 1, 2025        โ          โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะัะธะผะตั 2: Reasoning + Tool

**ะะฐะฟัะพั ะฟะพะปัะทะพะฒะฐัะตะปั:**
```
ะะฐะบะฐั ะฟะพะณะพะดะฐ ะฒ ะะพะฝะดะพะฝะต ะธ ะฝะฐะนะดะธ ะธะฝัะพัะผะฐัะธั ะพ ะดะพััะพะฟัะธะผะตัะฐัะตะปัะฝะพัััั
```

**ะัะพะฑัะฐะถะตะฝะธะต:**
```
โโ ๐ง Thought for 2s โโโโโโโโโโโโโโโโโโโโโโโโโโ
โ Analyzing the request...                    โ
โ User asks for weather and tourist info      โ
โ Need to use: getWeather, webSearch          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโ Get Weather โโโโโโโโโโโโโโโโโโโ โ Completed โ
โ [Weather widget]                             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโ Web Search โโโโโโโโโโโโโโโโโโโโ โ Completed โ
โ [Search results for London attractions]      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ะะฐััะธัะตะฝะธะต

### ะะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒะพะณะพ ะธะฝััััะผะตะฝัะฐ:

1. ะกะพะทะดะฐะนัะต tool ะฒ `lib/ai/tools/your-tool.ts`
2. ะกะพะทะดะฐะนัะต ะบะพะผะฟะพะฝะตะฝั ัะตะทัะปััะฐัะฐ `components/your-tool-result.tsx` (ะพะฟัะธะพะฝะฐะปัะฝะพ)
3. ะะพะฑะฐะฒััะต ะพะฑัะฐะฑะพัะบั ะฒ `components/message.tsx`:

```tsx
if (type === "tool-yourTool") {
  return (
    <Tool defaultOpen={true}>
      <ToolHeader state={state} type="tool-yourTool" />
      <ToolContent>
        <ToolInput input={part.input} />
        <ToolOutput output={<YourToolResult output={part.output} />} />
      </ToolContent>
    </Tool>
  );
}
```

4. ะะพะฑะฐะฒััะต ะผะตัะบั ะฒ `getToolLabel()` ะฒ `components/elements/tool.tsx`:

```tsx
const getToolLabel = (type: ToolUIPart["type"]): string => {
  const labels: Record<string, string> = {
    // ...existing
    "tool-yourTool": "Your Tool Name",
  };
  // ...
};
```

---

## Accessibility

- โ Keyboard navigation (Enter/Space ะดะปั ะพัะบัััะธั/ะทะฐะบัััะธั)
- โ Screen reader friendly (ARIA ะฐััะธะฑััั ะพั Radix UI)
- โ Focus indicators
- โ Semantic HTML

---

## Performance

- โ ะะตะผะพะธะทะฐัะธั ะบะพะผะฟะพะฝะตะฝัะพะฒ
- โ Lazy loading ะธะทะพะฑัะฐะถะตะฝะธะน
- โ ะะธะฝะธะผะฐะปัะฝัะต ัะต-ัะตะฝะดะตัั
- โ ะะฟัะธะผะธะทะธัะพะฒะฐะฝะฝัะต ะฐะฝะธะผะฐัะธะธ (CSS transforms)

---

## Troubleshooting

### ะะบะบะพัะดะตะพะฝ ะฝะต ะพัะบััะฒะฐะตััั

ะัะพะฒะตัััะต:
- `defaultOpen` prop ัััะฐะฝะพะฒะปะตะฝ ะฟัะฐะฒะธะปัะฝะพ
- ะะตั ะบะพะฝัะปะธะบัะพะฒ ั `open` prop (ะบะพะฝััะพะปะธััะตะผัะน ัะตะถะธะผ)

### ะกัะฐััั ะฝะต ะพะฑะฝะพะฒะปัะตััั

ะฃะฑะตะดะธัะตัั, ััะพ `state` prop ะฟะตัะตะดะฐะตััั ะบะพััะตะบัะฝะพ ะธะท `part.state`

### ะะตะทัะปััะฐัั ะฝะต ะพัะพะฑัะฐะถะฐัััั

ะัะพะฒะตัััะต:
- ะคะพัะผะฐั `output` ัะพะพัะฒะตัััะฒัะตั ัะธะฟั ะบะพะผะฟะพะฝะตะฝัะฐ
- ะะตั ะพัะธะฑะพะบ ะฒ ะบะพะฝัะพะปะธ
- `state === "output-available"`

---

## Changelog

### v1.0.0 (Nov 5, 2025)
- โ ะะฐะทะพะฒัะต ะบะพะผะฟะพะฝะตะฝัั Tool, Reasoning
- โ WebSearchResult ะบะพะผะฟะพะฝะตะฝั
- โ ะะฝัะตะณัะฐัะธั Tavily Search
- โ ะคะพัะผะฐัะธัะพะฒะฐะฝะธะต ะฝะฐะทะฒะฐะฝะธะน ะธะฝััััะผะตะฝัะพะฒ
- โ ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ
- โ ะะดะฐะฟัะธะฒะฝัะน ะดะธะทะฐะนะฝ
