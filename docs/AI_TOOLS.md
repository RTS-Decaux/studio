# AI Tools

## –î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ AI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–¥–µ–ª—å –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Å–≤–æ–∏—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π:

### üîç Web Search (Tavily)
**–§–∞–π–ª:** `/lib/ai/tools/web-search.ts`

–ü–æ–∏—Å–∫ –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ü–æ–∏—Å–∫ –Ω–æ–≤–æ—Å—Ç–µ–π –∏ —Ç–µ–∫—É—â–∏—Ö —Å–æ–±—ã—Ç–∏–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–∫—Ç–æ–≤
- –ü–æ–∏—Å–∫ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `query` - –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `maxResults` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (1-10, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5)
- `searchDepth` - –≥–ª—É–±–∏–Ω–∞ –ø–æ–∏—Å–∫–∞: "basic" | "advanced"
- `includeAnswer` - –≤–∫–ª—é—á–∏—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç (default: true)

**–¢—Ä–µ–±—É–µ—Ç—Å—è:** `TAVILY_API_KEY` –≤ `.env.local`

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [TAVILY_QUICKSTART.md](./TAVILY_QUICKSTART.md)

---

### ‚õÖ Get Weather
**–§–∞–π–ª:** `/lib/ai/tools/get-weather.ts`

–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–π –ø–æ–≥–æ–¥–µ –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏—é –≥–æ—Ä–æ–¥–∞.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
- –ü–æ—á–∞—Å–æ–≤–æ–π –ø—Ä–æ–≥–Ω–æ–∑
- –í—Ä–µ–º—è –≤–æ—Å—Ö–æ–¥–∞/–∑–∞–∫–∞—Ç–∞

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `city` - –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `latitude` / `longitude` - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

### üìÑ Create Document
**–§–∞–π–ª:** `/lib/ai/tools/create-document.ts`

–°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (—Ç–µ–∫—Å—Ç, –∫–æ–¥, —Ç–∞–±–ª–∏—Ü—ã).

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–¥–æ–≤—ã—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü (spreadsheets)
- –ü–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

---

### ‚úèÔ∏è Update Document
**–§–∞–π–ª:** `/lib/ai/tools/update-document.ts`

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

---

### üí° Request Suggestions
**–§–∞–π–ª:** `/lib/ai/tools/request-suggestions.ts`

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–µ–π—Å—Ç–≤–∏–π
- –ò–¥–µ–∏ –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö —à–∞–≥–æ–≤

---

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ Vercel AI SDK –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ API route `/app/(chat)/api/chat/route.ts`.

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–¥–µ:

```typescript
import { streamText } from 'ai';
import { webSearch } from '@/lib/ai/tools/web-search';
import { getWeather } from '@/lib/ai/tools/get-weather';

const result = await streamText({
  model: myModel,
  messages,
  tools: {
    webSearch,
    getWeather,
    // ... –¥—Ä—É–≥–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
  },
});
```

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —á–∞—Ç–µ:

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** "–ù–∞–π–¥–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ Next.js 15 –∏ —Ä–∞—Å—Å–∫–∞–∂–∏ –æ –ø–æ–≥–æ–¥–µ –≤ –°–∞–Ω-–§—Ä–∞–Ω—Ü–∏—Å–∫–æ"

**–ú–æ–¥–µ–ª—å:**
1. –í—ã–∑—ã–≤–∞–µ—Ç `webSearch({ query: "Next.js 15 features" })`
2. –í—ã–∑—ã–≤–∞–µ—Ç `getWeather({ city: "San Francisco" })`
3. –§–æ—Ä–º–∏—Ä—É–µ—Ç –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç

---

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞

### 1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞

```typescript
// lib/ai/tools/my-tool.ts
import { tool } from 'ai';
import { z } from 'zod';

export const myTool = tool({
  description: '–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞',
  inputSchema: z.object({
    param: z.string().describe('–ü–∞—Ä–∞–º–µ—Ç—Ä'),
  }),
  execute: async ({ param }) => {
    // –í–∞—à–∞ –ª–æ–≥–∏–∫–∞
    return { result: '–¥–∞–Ω–Ω—ã–µ' };
  },
});
```

### 2. –î–æ–±–∞–≤—å—Ç–µ –≤ —Ç–∏–ø—ã

```typescript
// lib/types.ts
import type { myTool } from './ai/tools/my-tool';

type myToolType = InferUITool<typeof myTool>;

export type ChatTools = {
  // ...—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ
  myTool: myToolType;
};
```

### 3. –î–æ–±–∞–≤—å—Ç–µ –≤ API route

```typescript
// app/(chat)/api/chat/route.ts
import { myTool } from '@/lib/ai/tools/my-tool';

// ...

tools: {
  // ...—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ
  myTool,
}
```

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
# .env.local

# Web Search (Tavily)
TAVILY_API_KEY=tvly-your-key

# –î—Ä—É–≥–∏–µ API –∫–ª—é—á–∏ –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
```

---

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ Vercel AI SDK telemetry:

```typescript
experimental_telemetry: {
  isEnabled: isProductionEnvironment,
  functionId: 'stream-text',
}
```

---

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ú–æ–¥–µ–ª—å –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∞–∫—Å–∏–º—É–º 5 —à–∞–≥–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (`stopWhen: stepCountIs(5)`)
- Reasoning –º–æ–¥–µ–ª—å (`chat-model-reasoning`) –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –ö–∞–∂–¥—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Å–≤–æ–∏ –ª–∏–º–∏—Ç—ã API (—Å–º. –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞)

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- [Vercel AI SDK Tools](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [Tavily Integration Guide](./TAVILY_INTEGRATION.md)
- [AI SDK Documentation](https://ai-sdk.dev)
